{"version":3,"sources":["redux/actions.js","redux/reducers.js","redux/store.js","components/card/Card.jsx","../external \"showdown\"","api/request.js","api/index.js","utils/loadable.js","components/search/index.jsx","assets/images/logo.jpeg","components/header/index.jsx","utils/formatDate.js","components/list/List.jsx","pages/home/index.jsx","pages/doc-detail/index.jsx","components/add-tag/index.jsx","components/markdown-edit/index.jsx","components/rich-text-edit/index.jsx","utils/parseDom.js","pages/admin/children/edit/index.jsx","utils/stringToHtml.js","pages/admin/children/document/index.jsx","components/admin-sider/index.jsx","pages/admin/index.jsx","pages/layout/index.jsx","App.jsx","index.js","utils/QcEventEmitter.js"],"names":["receiveUser","userid","type","data","RECEIVE_USER","state","action","createStore","reducers","Card","props","formateDate","time","dt","Date","Number","y","getFullYear","m","getMonth","padStart","d","getDate","day","yM","delay","duration","className","style","this","myStyle","map","item","xs","sm","md","lg","xl","createTime","to","id","title","tags","length","tag","dangerouslySetInnerHTML","__html","desc","Component","module","exports","showdown","instance","axios","create","headers","ajax","url","toLocaleUpperCase","Promise","resolve","reject","message","loading","get","params","post","then","res","destroy","catch","err","error","interceptors","response","use","status","warning","msg","localStorage","removeItem","store","dispatch","request","config","token","getItem","reqAddDocment","doc","BASE_URL","reqAllDocument","reqDocumentDetail","reqDeleteDoc","reqUpdateDoc","reqSearch","keyword","reqSearchByTag","reqLogin","username","password","reqAddResourcesCate","name","reqResourcesCate","reqResourcesDeleteCate","reqAddResources","resource","reqDeleteResources","cate","reqUpdateResources","loadingComponent","size","loader","Loadable","Search","toSearch","a","setState","docs","result","RegExp","replace","code","handleSearch","e","value","target","searchValue","flag","setTimeout","closeSearch","closeModel","inputRef","React","createRef","createInputRef","isSearch","forceRender","zIndex","display","allowClear","ref","prefix","SearchOutlined","onChange","onClick","visible","closable","footer","wrapClassName","onCancel","bodyStyle","paddingTop","minHeight","overflow","HeaderNav","handleMenuClick","isSideBar","openSearch","current","focus","cursor","toggleSideBar","nativeEvent","stopImmediatePropagation","location","pathname","indexOf","QcEventEmitter","emit","closeModelFun","icon","MenuUnfoldOutlined","href","src","imgSrc","alt","shape","defaultSelectedKeys","mode","Item","withRouter","List","interval","DocmentList","toggleViewType","viewType","getDocument","docmentList","Link","DocDetail","getDocumentDetail","isOpen","menuListClick","active","match","siderMenuRef","nextProps","addListener","wrapperRef","addeventlistener","stoppropagation","removeListener","content","affix","menuList","Array","index","level","marginLeft","createMenuNode","PureComponent","AddTags","handleAddTag","keyCode","_reactName","updateAddTags","handleTagClose","splice","handleEditTag","tagNodeClassName","input","document","createElement","innerText","width","offsetWidth","height","offsetHeight","onkeyup","key","onblur","tagInner","innerHTML","tagNode","appendChild","trim","findIndex","remove","push","isAdd","getTags","console","log","inputWidth","color","margin","onDoubleClick","onClose","onBlur","border","onKeyUp","TextArea","MarkdownEdit","clearValue","handleDescValue","handleTxetValue","htmlStr","converter","makeHtml","changeInputValue","handleUpload","file","uploadRef","files","reader","FileReader","readAsDataURL","onload","oFREvent","pointsTxt","Converter","tagsRef","xxl","onInput","placeholder","bordered","maxLength","showCount","rows","resize","marginTop","autoSize","RichTextEidt","blocksFromHtml","htmlToDraft","contentBlocks","entityMap","contentState","ContentState","createFromBlockArray","editorState","EditorState","createWithContent","createEmpty","onEditorStateChange","draftToHtml","convertToRaw","getCurrentContent","parseDomFn","parseDom","node","atr","attributes","i","localName","nodeValue","test","substring","all","body","children","join","Edit","saveDoc","EditorRef","getEditorValue","str","htmlNode","DOMParser","parseFromString","parseResult","contentHtml","docObj","success","history","goBack","changeEditor","confirm","autoFocusButton","okText","cancelText","onOk","query","disabled","Document","handleEdit","saveTags","handleDetele","getDouments","columns","dataIndex","editable","ellipsis","render","formatDate","record","fontSize","EditOutlined","danger","DeleteOutlined","expandable","rowExpandable","expandedRowRender","extra","dataSource","rowKey","scroll","Sider","AdminSider","handleSderClick","path","onCollapse","collapsed","selectedKeys","resourcesCate","collapsible","defaultOpenKeys","theme","SubMenu","ResourcesAdmin","loadable","ResourcesCate","Content","Admin","getResourcesCate","component","AdminDocument","exact","connect","Tags","Login","Resources","Layout","Home","App","ReactDOM","getElementById","EventEmitter"],"mappings":"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","file":"static/js/main.659e1f6d.chunk.js","sourcesContent":["const RECEIVE_USER = \"'receive_user'\"\r\n\r\nexport const receiveUser = (userid) => ({ type: RECEIVE_USER, data: userid })","\r\nconst RECEIVE_USER = \"'receive_user'\"\r\n\r\nfunction userid(state = '', action) {\r\n  switch (action.type) {\r\n    case RECEIVE_USER:\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default userid","import { createStore } from 'redux'\r\nimport reducers from './reducers'\r\n\r\nexport default createStore(reducers)","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, Row, Col } from \"antd\";\nimport { Link } from 'react-router-dom'\nimport QueueAnim from 'rc-queue-anim';\n\nimport './index.less'\n\nclass Card extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  static propTypes = {\n    data: PropTypes.array.isRequired,\n    myStyle: PropTypes.object\n  };\n  formateDate = (time) => {\n    const dt = new Date(Number(time))\n    const y = dt.getFullYear()\n    const m = (dt.getMonth() + 1 + '').padStart(2, '0')\n    const d = (dt.getDate() + '').padStart(2, '0')\n    this.time = {\n      day: d,\n      yM: y + ' - ' + m\n    }\n  }\n  render() {\n\n    return (\n      <QueueAnim type=\"left\" delay={300} duration={1000} className=\"home_posts_card\" style={this.props.myStyle} >\n        {this.props.data.map((item) => (\n          <Row className=\"card_item item_shadow\" key={item.id} >\n\n            <Col className=\"row_left\" xs={24} sm={24} md={6} lg={6} xl={6}>\n              <div className=\"item_time_wrap\">\n                <div className=\"item_time\">\n                  {this.formateDate(item.createTime)}\n                  <span className=\"time_day\">{this.time.day}</span>\n                  <span className=\"time_year_month\">{this.time.yM}</span>\n\n                </div>\n              </div>\n\n            </Col>\n\n            <Col className=\"row_right\" xs={24} sm={24} md={18} lg={18} xl={18}>\n              <h3 className=\"item__title\"><Link to={'/doc-detail/' + item.id} >{item.title}</Link></h3>\n              {item.tags.length > 0 && (<div className=\"item__tags_wrap\">\n                <span className=\"tags_icon iconfont icon-biaoqian\"></span>\n                {item.tags.map((tag) => (\n                  <Link className=\"tag\" key={tag} to={\"/tags/\" + tag}>\n                    {tag}\n                  </Link>\n                ))}\n              </div>)}\n              <div className=\"item__desc\">\n                <div className=\"desc__label\">文档描述：</div>\n                <p dangerouslySetInnerHTML={{ __html: item.desc }} ></p>\n              </div>\n              <Button className=\"card_detail_btn\" type=\"primary\"><Link to={'/doc-detail/' + item.id}>阅读详情</Link></Button>\n            </Col>\n\n          </Row>\n        ))}\n      </QueueAnim>\n    );\n  }\n}\n\nexport default Card;\n","module.exports = showdown;","import axios from 'axios'\r\nimport { message } from 'antd'\r\nimport store from '../redux/store'\r\nimport { receiveUser } from '../redux/actions'\r\n\r\nlet instance = axios.create({\r\n  headers: {\r\n    // 'content-type': 'application/x-www-form-urlencoded'\r\n  }\r\n})\r\n\r\n\r\n// 响应拦截 如果返回403 跳转登录页面\r\ninstance.interceptors.response.use(response => {\r\n  if (response.data.status === 403) {\r\n    message.warning(response.data.msg)\r\n    localStorage.removeItem('userid')\r\n    localStorage.removeItem('token')\r\n    store.dispatch(receiveUser(''))\r\n  }\r\n  return response\r\n})\r\n// 请求响应器 携带token\r\ninstance.interceptors.request.use(config => {\r\n  const token = localStorage.getItem(\"token\") || ''\r\n  if (token) {\r\n    config.headers.token = token\r\n  }\r\n  return config\r\n})\r\n\r\nexport default function ajax(url, data = {}, type = \"GET\") {\r\n\r\n  // 统一成大写\r\n  type = type.toLocaleUpperCase()\r\n  // 保存请求返回的response\r\n  let promise\r\n\r\n  return new Promise((resolve, reject) => {\r\n    message.loading(\"加载中\")\r\n    // get 请求\r\n    if (type === 'GET') {\r\n      promise = instance.get(url, {\r\n        params: data\r\n      })\r\n    } else { // post 请求\r\n      promise = instance.post(url, data)\r\n    }\r\n\r\n    // 统一处理错误 如果成功 调用resolve 把返回值传出去 如果失败 直接提示异常信息 \r\n\r\n    promise.then(res => {\r\n      message.destroy()\r\n      resolve(res.data)\r\n    })\r\n      .catch(err => {\r\n        message.error(err.message)\r\n      })\r\n  })\r\n}","import request from './request'\r\nconst BASE_URL = '/api'\r\n\r\nexport const reqAddDocment = (doc) => (request(BASE_URL + '/admin/docment/add', { ...doc }, \"POST\"))\r\n\r\nexport const reqAllDocument = () => (request(BASE_URL + '/docment/all'))\r\n\r\nexport const reqDocumentDetail = (id) => (request(BASE_URL + '/docment/detail', { id }))\r\n\r\nexport const reqDeleteDoc = (id) => (request(BASE_URL + '/admin/docment/delete', { id }, 'POST'))\r\n\r\nexport const reqUpdateDoc = (id, doc) => (request(BASE_URL + '/admin/docment/update', { id, doc }, 'POST'))\r\n\r\nexport const reqSearch = (keyword) => (request(BASE_URL + '/search', { keyword }))\r\n\r\nexport const reqSearchByTag = (keyword) => (request(BASE_URL + '/search/tag', { keyword }))\r\n\r\nexport const reqLogin = (username, password) => (request(BASE_URL + '/login', { username, password }, 'POST'))\r\n\r\nexport const reqAddResourcesCate = (name) => (request(BASE_URL + '/admin/resources/add_cate', { name }, 'POST'))\r\n\r\nexport const reqResourcesCate = () => (request(BASE_URL + '/resources/cate'))\r\n\r\nexport const reqResourcesDeleteCate = (name) => (request(BASE_URL + '/admin/resources/delete_cate', { name }, \"POST\"))\r\n\r\nexport const reqAddResources = (resource) => (request(BASE_URL + '/admin/resources/add', { resource }, \"POST\"))\r\n\r\nexport const reqDeleteResources = (cate, id) => (request(BASE_URL + '/admin/resources/delete', { cate, id }, \"POST\"))\r\n\r\nexport const reqUpdateResources = (resource) => (request(BASE_URL + '/admin/resources/update', { resource }, \"POST\"))\r\n\r\n","import React from \"react\";\r\nimport { Spin } from 'antd';\r\nimport Loadable from \"react-loadable\";\r\n\r\n// import './index.less'\r\n\r\n// 加载动画\r\nconst loadingComponent = () => {\r\n  return <div className={'spin-loading'}>\r\n    <div><Spin size=\"large\" /></div>\r\n  </div>;\r\n};\r\n\r\n// 当不传加载动画时候使用默认的加载动画\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (loader, loading = loadingComponent) => {\r\n  return Loadable({\r\n    loader,\r\n    loading,\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\nimport { Link } from 'react-router-dom'\nimport { Input, Modal, Button } from \"antd\";\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport { reqSearch } from '@/api'\nimport PropTypes from \"prop-types\";\nimport \"./index.less\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchValue: '',\n      docs: []\n    };\n    this.inputRef = React.createRef();\n  }\n  static propTypes = {\n    isSearch: PropTypes.bool.isRequired,\n    closeModel: PropTypes.func.isRequired,\n    createInputRef: PropTypes.func.isRequired,\n  };\n\n  // 后台搜索 函数\n  toSearch = async (keyword) => {\n    if (!keyword) {\n      this.setState({\n        docs: []\n      })\n      return\n    }\n    const res = await reqSearch(keyword)\n    const docs = res.result\n    // 高亮显示\n    docs.map(item => {\n      const res = new RegExp(keyword, 'i')\n      item.title = item.title.replace(res, `<mark>${keyword}</mark>`)\n      item.desc = item.desc.replace(res, `<mark>${keyword}</mark>`)\n      return item\n    })\n\n    if (res.code === 0) {\n      this.setState({\n        docs: docs\n      })\n    }\n  }\n  // 处理搜索框输入 函数\n  handleSearch = (e) => {\n    const { value } = e.target\n    this.setState({\n      searchValue: value\n    })\n\n    if (this.flag) return\n    this.flag = true\n    this.toSearch(value)\n    setTimeout(() => {\n      this.flag = false\n    }, 200);\n\n  }\n\n  // 关闭搜索框\n  closeSearch = () => {\n    const { closeModel } = this.props;\n    this.setState({\n      searchValue: '',\n      docs: []\n    })\n    closeModel()\n  }\n\n  componentDidMount() {\n    this.props.createInputRef(this.inputRef);\n  }\n\n\n  render() {\n    const { isSearch } = this.props;\n    const { searchValue, docs } = this.state\n    return (\n      <Modal\n        forceRender\n        zIndex={99999}\n        title={\n          <span style={{ display: \"flex\" }}>\n            <Input\n              value={searchValue}\n              size=\"large\"\n              allowClear\n              ref={this.inputRef}\n              prefix={<SearchOutlined />}\n              onChange={this.handleSearch}\n\n            />\n            <Button\n              size=\"large\"\n              type=\"text\"\n              className=\"close_btn\"\n              onClick={this.closeSearch}\n            >\n              取消\n            </Button>\n          </span>\n        }\n        visible={isSearch}\n        closable={false}\n        footer={null}\n        wrapClassName=\"search_wrap\"\n        onCancel={this.closeSearch}\n        bodyStyle={{ paddingTop: 0, minHeight: 400, overflow: 'hidden' }}\n      >\n        {docs.length > 0 ? (\n          <div className=\"result_main\">\n            <div className=\"row\">文档</div>\n            <ul className=\"result_list\">\n              {docs.map(doc => (\n                <li key={doc.id} onClick={this.closeSearch} >\n                  <Link to={'/doc-detail/' + doc.id}>\n                    <div className=\"result_item\">\n                      <div className=\"result_icon\">\n                        <span className=\"iconfont icon-caidan\"></span>\n                      </div>\n                      <div className=\"result_content\">\n                        <span className=\"result_title text_hidden\" dangerouslySetInnerHTML={{ __html: doc.title }} ></span>\n                        <span className=\"result_desc text_hidden\" dangerouslySetInnerHTML={{ __html: doc.desc }}></span>\n                      </div>\n                    </div>\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n        ) : <div className=\"search_help\">\n          <span>No recent searches</span>\n        </div>\n        }\n\n      </Modal>\n    );\n  }\n}\n\nexport default Search;\n","export default __webpack_public_path__ + \"static/media/logo.f3153b8d.jpeg\";","import React, { Component } from \"react\";\nimport { Button, Menu } from \"antd\";\nimport { MenuUnfoldOutlined, SearchOutlined } from \"@ant-design/icons\";\nimport Search from \"../search\";\nimport QcEventEmitter from '@/utils/QcEventEmitter.js'\nimport { withRouter, Link } from \"react-router-dom\";\n\n// 引入样式\nimport \"./index.less\";\n// logo图片链接\nimport imgSrc from \"@/assets/images/logo.jpeg\";\n\nclass HeaderNav extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSideBar: false, // 控制侧边菜单栏\n      isSearch: false,\n    };\n  }\n  // 移动端点击侧边菜单栏收起侧边菜单\n  handleMenuClick = () => {\n    this.setState({\n      isSideBar: false\n    })\n  }\n\n  // 打开搜索框\n  openSearch = () => {\n    this.setState({\n      isSearch: true,\n    });\n    setTimeout(() => {\n      this.inputRef.current.focus({\n        cursor: \"all\",\n      });\n    });\n  };\n  createInputRef = (inputRef) => {\n    this.inputRef = inputRef;\n  };\n  // 切换侧边栏菜单\n  toggleSideBar = (isSideBar) => {\n    return (e) => {\n      // 阻止事件冒泡\n      e && e.nativeEvent.stopImmediatePropagation();\n\n      const { pathname } = this.props.location\n\n      if (pathname.indexOf('doc-detail') !== -1) {\n        QcEventEmitter.emit('toggleSideBar')\n      } else {\n        this.setState({\n          isSideBar,\n        });\n      }\n\n    };\n  };\n  // 关闭搜索对话框\n  closeModelFun = () => {\n    this.setState({\n      isSearch: false,\n    });\n  };\n\n  render() {\n    const { isSideBar, isSearch } = this.state;\n    const { pathname } = this.props.location\n    return (\n      <nav className=\"header-nav\">\n        {/* 导航 */}\n        <div className={isSideBar ? \"navbar_inner show\" : \"navbar_inner\"}>\n          <div className=\"left-nav\">\n            <Button\n              icon={<MenuUnfoldOutlined />}\n              className=\"navbar_toggle\"\n              onClick={this.toggleSideBar(true)}\n            ></Button>\n            <a href=\"/\" className=\"\">\n              <img className=\"nav-logo\" src={imgSrc} alt=\"头像\" />\n              <strong>片段</strong>\n            </a>\n          </div>\n          <ul className=\"right-menu\">\n            <li className={\"nav_item \" + (pathname === '/' ? 'current' : '')} > <Link to={'/'}>首页</Link> </li>\n            <li className={\"nav_item \" + (pathname === '/resources' ? 'current' : '')} ><Link to={'/resources'}>资源列表</Link></li>\n            <li className={\"nav_item \" + (pathname.indexOf('admin') !== -1 ? 'current' : '')} ><Link to={'/admin'}>文档管理</Link></li>\n            <li className=\"nav_item nav_search_wrap\">\n              <Button\n                shape=\"round\"\n                className=\"nav_search_btn\"\n                icon={<SearchOutlined />}\n                onClick={this.openSearch}\n              >\n                <span className=\"btn_text\">搜索</span>\n              </Button>\n            </li>\n          </ul>\n          {/* 遮罩 */}\n          <div\n            className=\"sidebar_mask\"\n            onClick={this.toggleSideBar(false)}\n          ></div>\n          {/* 侧边导航 */}\n          <div className=\"navbar_sidebar_wrap\">\n            <div className=\"left-nav\">\n              <a href=\"/\" className=\"\">\n                <img className=\"nav-logo\" src={imgSrc} alt=\"头像\" />\n                <strong>片段</strong>\n              </a>\n            </div>\n            <Menu\n              defaultSelectedKeys={[pathname]}\n              mode=\"inline\"\n              className=\"sidebar_menu\"\n              onClick={this.handleMenuClick}\n            >\n              <Menu.Item key=\"/\"><Link to={'/'}>首页</Link></Menu.Item>\n              <Menu.Item key=\"/resources\"><Link to={'/resources'}>资源列表</Link></Menu.Item>\n              <Menu.Item key=\"/admin\"><Link to={'/admin'}>文档管理</Link></Menu.Item>\n            </Menu>\n          </div>\n        </div>\n        {/* 搜索页 */}\n        <Search\n          isSearch={isSearch}\n          closeModel={this.closeModelFun}\n          createInputRef={this.createInputRef}\n        />\n      </nav>\n    );\n  }\n}\n\nexport default withRouter(HeaderNav);\n","export default function formateDate(time) {\n  if (!time) return ''\n  const dt = new Date(Number(time))\n  const y = dt.getFullYear()\n  const m = (dt.getMonth() + 1 + '').padStart(2, '0')\n  const d = (dt.getDate() + '').padStart(2, '0')\n\n  // const hh = (dt.getHours() + '').padStart(2, '0')\n  // const mm = (dt.getMinutes() + '').padStart(2, '0')\n  // const ss = (dt.getSeconds() + '').padStart(2, '0')\n\n  return `${y}-${m}-${d}`\n}","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport formateDate from \"@/utils/formatDate.js\";\nimport { Link } from 'react-router-dom'\nimport QueueAnim from 'rc-queue-anim';\n\nimport './index.less'\n\nclass List extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  static propTypes = {\n    data: PropTypes.array.isRequired,\n    myStyle: PropTypes.object\n  };\n  render() {\n    return (\n      <QueueAnim type=\"scale\" duration={1000} interval={0} className=\"home_posts_list\" style={this.props.myStyle}>\n        {this.props.data.map((item) => (\n          <div className=\"list_item item_shadow\" key={item.id} >\n            {/* 文档标题 */}\n            <h3 className=\"item__title\"> <Link to={'/doc-detail/' + item.id}>\n              {item.title}\n            </Link></h3>\n            <div className=\"item_desc\">\n              <p className=\"item_desc_text\">{item.desc}</p>\n            </div>\n            {/* tag time 容器 */}\n            <div className=\"item_footer\">\n              <div className=\"item__tags_wrap\" >\n                {item.tags.length > 0 ? <span className=\"tags_icon iconfont icon-biaoqian\"></span> : null}\n                {item.tags.map((tag) => (\n                  <a className=\"tag\" key={tag} href={\"/tags/\" + tag}>\n                    {tag}\n                  </a>\n                ))}\n              </div>\n              <div className=\"doc_create_time\">\n                {formateDate(item.createTime)}\n              </div>\n            </div>\n          </div>\n        ))}\n      </QueueAnim>\n    );\n  }\n}\n\nexport default List;\n","import React, { Component } from \"react\";\nimport { BackTop } from 'antd'\nimport List from \"../../components/list/List\";\nimport Card from \"../../components/card/Card\";\nimport { reqAllDocument } from '@/api/index'\n\nimport \"./index.less\";\n\nclass DocmentList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewType: 0, // 0 表示卡片视图 1 列表视图\n      docmentList: []\n    };\n  }\n  // 切换显示模式\n  toggleViewType = (viewType) => {\n    return () => {\n      this.setState({\n        viewType,\n      });\n    };\n  };\n  // 获取文档数据\n  getDocument = async () => {\n    const res = await reqAllDocument()\n    if (res.code === 0) {\n      this.setState({\n        docmentList: res.data\n      })\n    }\n  }\n  componentDidMount() {\n    this.getDocument()\n  }\n  render() {\n    const { viewType, docmentList } = this.state;\n    return (\n      <div className=\"doc_list\">\n        {/* 标题 */}\n        <h1 className=\"doc_section_title\">\n          最新文档 &nbsp;\n          <span className=\"new_icon\">NEW</span>\n        </h1>\n        {/* 切换显示模式按钮 */}\n        <div className=\"home_switch_wrap\">\n          <span\n            className={\n              !viewType ? \"iconfont icon-gongge active\" : \"iconfont icon-gongge\"\n            }\n            onClick={this.toggleViewType(0)}\n          ></span>\n          <span\n            className={\n              viewType\n                ? \"iconfont icon-streamlist active\"\n                : \"iconfont icon-streamlist\"\n            }\n            onClick={this.toggleViewType(1)}\n          ></span>\n        </div>\n        {/* home_posts_page */}\n        <div className=\"home_posts_container\">\n          {viewType ? <List data={docmentList} /> : <Card data={docmentList} />}\n        </div>\n        <BackTop />\n      </div>\n    );\n  }\n}\n\nexport default DocmentList;\n","import React, { PureComponent } from \"react\";\nimport \"./index.less\";\nimport { reqDocumentDetail } from '@/api'\nimport QcEventEmitter from '@/utils/QcEventEmitter.js'\nimport { Anchor } from 'antd';\n\nconst { Link } = Anchor;\n\nclass DocDetail extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    const { id } = props.match.params\n    this.getDocumentDetail(id)\n    this.state = {\n      doc: {},\n      active: '',\n      id\n    };\n    this.siderMenuRef = React.createRef()\n  }\n  static propTypes = {};\n  // 根据id 发送后台请求\n  getDocumentDetail = async (id) => {\n    const res = await reqDocumentDetail(id)\n    if (res.code === 0) {\n      this.setState({\n        doc: res.data,\n        isOpen: false // 移动端 控制菜单栏显示隐藏\n      })\n    }\n  }\n\n\n  // 移动端 切换菜单栏\n  toggleSideBar = (type) => {\n    return () => {\n      if(type===\"toggle\"){\n        type = !this.state.isOpen\n      }\n      this.setState({\n        isOpen: type\n      })\n    }\n  }\n  handleMenuClick = () => {\n    this.setState({\n      isOpen: false\n    })\n  }\n  // 菜单点击\n  menuListClick = (title) => {\n    return () => {\n      this.setState({\n        active: title,\n        isOpen: false\n      })\n    }\n  }\n  componentWillReceiveProps(nextProps) {\n    const { id } = nextProps.match.params\n    if (id && id !== this.state.id) {\n      this.getDocumentDetail(id)\n    }\n  }\n  componentDidMount() {\n    // 监听事件总线\n    QcEventEmitter.addListener(\"toggleSideBar\", this.toggleSideBar('toggle'))\n    this.siderMenuRef.wrapperRef && this.siderMenuRef.wrapperRef.current.addeventlistener('touchmove', (e) => {\n      e.stoppropagation()\n    }, false)\n  }\n\n  componentWillUnmount() {\n    QcEventEmitter.removeListener(\"toggleSideBar\", this.toggleSideBar)\n  }\n\n  render() {\n    const { doc, active, isOpen } = this.state;\n\n    // 创建左侧菜单函数\n    const createMenuNode = (menuList) => {\n      if (menuList instanceof Array) {\n        return (\n          <ul>\n            {menuList.map((item, index) => (\n              <li key={item.id}>\n                {[\n                  item.level === '1' ? <h3 key={index} > <Link className={item.id === active ? 'active' : ''} onClick={this.menuListClick(item.id)} href={\"#\" + item.id} style={{ marginLeft: 10 * item.level }} title={item.title} ></Link></h3> : '',\n                  item.level === '2' ? <h4 key={index} > <Link className={item.id === active ? 'active' : ''} onClick={this.menuListClick(item.id)} href={\"#\" + item.id} style={{ marginLeft: 10 * item.level }} title={item.title}  ></Link></h4> : '',\n                  item.level > 2 ? <Link key={index} href={\"#\" + item.id} style={{ marginLeft: 10 * item.level }} title={item.title} ></Link> : ''\n                ]\n                }\n              </li>\n            ))\n            }\n          </ul >\n        );\n      }\n    }\n    return (\n      <div className=\"document_detail\" onClick={this.toggleSideBar(false)} >\n        <div\n          className=\"document_main\"  >\n          <h1 className=\"document_title\">{doc.title && doc.title}</h1>\n          <div className=\"docment_content\" dangerouslySetInnerHTML={{ __html: doc.content }}>\n\n          </div>\n        </div>\n\n        <Anchor affix={false} ref={this.siderMenuRef} className={'document_siderMenu' + (isOpen ? \" open\" : '')} onClick={this.handleMenuClick}  >\n          {doc.menuList && createMenuNode(doc.menuList)}\n        </Anchor>\n      </div>\n    );\n  }\n}\n\nexport default DocDetail;\n","import React, { Component } from 'react';\r\nimport { Tag, message } from 'antd'\r\nimport './index.less'\r\n\r\nclass AddTags extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const tags = props.tags ? props.tags : []\r\n    console.log(tags);\r\n    const isAdd = props.isAdd || false\r\n    this.inputWidth = props.inputWidth || 100\r\n    this.state = {\r\n      tags,\r\n      isAdd\r\n    }\r\n  }\r\n  // 添加tag\r\n  handleAddTag = (e) => {\r\n    if (e.keyCode === 13 || e._reactName === \"onBlur\") {\r\n      this.updateAddTags(null, e)\r\n    }\r\n  }\r\n  // 删除tag\r\n  handleTagClose = (index) => {\r\n    return () => {\r\n      const { tags } = this.state\r\n      tags.splice(index, 1)\r\n      this.setState({\r\n        tags\r\n      })\r\n    }\r\n  }\r\n  // 双击tag 修改tag\r\n  handleEditTag = (index) => {\r\n    return (e) => {\r\n      const target = e.target\r\n      // \r\n      if (target.className.indexOf('doc_tag') !== -1) {\r\n        this.tagNodeClassName = target.className\r\n        target.className = ''\r\n\r\n        const input = document.createElement(\"input\")\r\n        input.value = target.innerText\r\n        input.className = \"tag_input\"\r\n        input.style.width = target.offsetWidth + 'px'\r\n        input.style.height = target.offsetHeight + 'px'\r\n\r\n        input.onkeyup = (e) => {\r\n          if (e.key === 'Enter') {\r\n            this.updateAddTags(index, e)\r\n          }\r\n        }\r\n        input.onblur = (e) => {\r\n          this.updateAddTags(index, e)\r\n        }\r\n        setTimeout(() => {\r\n          input.focus()\r\n        }, 100);\r\n        // 保存节点 如果当前只是打开修改器 没有任何修改 需要重新插入\r\n        this.tagInner = target.innerHTML\r\n        this.tagNode = target\r\n        target.innerHTML = ''\r\n        target.appendChild(input)\r\n      }\r\n    }\r\n  }\r\n  // 更新tags state 函数\r\n  updateAddTags = (index, e) => {\r\n    const value = e.target.value.trim()\r\n    if (!value) {\r\n      this.setState({\r\n        isAdd: false\r\n      })\r\n      return\r\n    }\r\n    const { tags } = this.state\r\n    // 判断重复tag\r\n    const tagIndex = tags.findIndex(item => item === value)\r\n    if (tagIndex === -1) {\r\n      if (index) {\r\n        tags[index] = value\r\n        // 添加成功 删除input\r\n        e.target.remove()\r\n      } else {\r\n        tags.push(value)\r\n      }\r\n      // 更新state\r\n      this.setState({\r\n        tags,\r\n        isAdd: false\r\n      })\r\n    } else {\r\n      // 没有修改 不要提示\r\n      if (e._reactName === \"onBlur\" || e.type === 'blur') {\r\n        this.setState({\r\n          isAdd: false,\r\n        })\r\n        e.target.remove()\r\n        this.tagNode.innerHTML = this.tagInner\r\n        this.tagNode.className = this.tagNodeClassName\r\n      } else {\r\n        // 如果有重复的提醒\r\n        message.warning(value + ' 重复！')\r\n      }\r\n    }\r\n  }\r\n  // 给父组件返回tags\r\n  getTags = () => {\r\n    return this.state.tags\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    const { tags } = nextProps\r\n    if (tags) {\r\n      this.setState({\r\n        tags\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    const { tags, isAdd } = this.state;\r\n    return (\r\n      <div className=\"doc_tags\">\r\n        {tags.map((item, index) => (<Tag className=\"doc_tag\" color=\"blue\" style={{ margin: 5 }} closable key={item} onDoubleClick={this.handleEditTag(index)} onClose={this.handleTagClose(index)} >{item}</Tag>))}\r\n        {isAdd ?\r\n          <input onBlur={this.handleAddTag} style={{ border: '1px solid #919191', width: this.inputWidth, margin: '0 5px', height: 21 }} type=\"text\" onKeyUp={this.handleAddTag} />\r\n          :\r\n          <span onClick={() => this.setState({ isAdd: true })} className=\"tags_add_btn\" ><span className=\"iconfont icon-add\"></span> 添加标签</span>\r\n        }\r\n\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddTags;","import React, { Component } from \"react\";\nimport \"./index.less\";\nimport { Input, Row, Col } from \"antd\";\nimport showdown from \"showdown\";\nimport AddTags from '../add-tag'\n\nconst { TextArea } = Input;\nclass MarkdownEdit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: \"\",\n      title: \"\",\n      desc: \"\",\n      htmlStr: ''\n    };\n    //创建实例\n    this.converter = new showdown.Converter();\n    this.tagsRef = React.createRef();\n  }\n  // 清空表单数据\n  clearValue = () => {\n    this.setState({\n      title: '',\n      value: '',\n      desc: \"\"\n    })\n  }\n  // 简介文本域输入事件\n  handleDescValue = (e) => {\n    const desc = e.target.value;\n    this.setState({\n      desc\n    });\n  };\n  // 正文文本域输入事件\n  handleTxetValue = (e) => {\n    const value = e.target.value;\n    const htmlStr = this.converter.makeHtml(value);\n    this.setState({\n      value,\n      htmlStr\n    });\n  };\n  // 标题表单输入事件\n  changeInputValue = (e) => {\n    const title = e.target.value;\n    this.setState({\n      title,\n    });\n  };\n  // 获取编辑器值\n  getEditorValue() {\n    const { desc, htmlStr } = this.state;\n    const tags = this.tagsRef.current.getTags()\n    return {\n      title: this.state.title,\n      htmlStr,\n      desc,\n      tags\n    };\n  }\n\n  handleUpload = () => {\n    const file = this.uploadRef.current.files[0];\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = (oFREvent) => {\n      //读取完毕从中取值\n      var pointsTxt = oFREvent.target.result;\n      this.setState({\n        value: pointsTxt,\n      });\n    };\n  };\n\n  render() {\n    const { value, desc, title, htmlStr } = this.state;\n    return (\n      <Row className=\"markdown_edit_container\">\n        <Col className=\"markdown_content\" xs={24} sm={24} md={24} lg={16} xl={15} xxl={15} >\n          <div className=\"content_head\">\n            <div className=\"doc_title\">\n              <input\n                onInput={this.changeInputValue}\n                type=\"text\"\n                placeholder=\"我的文章标题\"\n                value={title}\n              />\n            </div>\n            <div className=\"row\">\n              <h3>简介:</h3>\n              <TextArea\n                bordered={false}\n                onChange={this.handleDescValue}\n                value={desc}\n                maxLength=\"500\"\n                placeholder=\"文章简介\"\n                showCount\n                rows=\"4\"\n                style={{ width: \"100%\", resize: \"none\" }}\n\n              />\n\n            </div>\n            <div className=\"row\">\n              <AddTags ref={this.tagsRef} />\n            </div>\n          </div>\n\n\n          <div className=\"row\"><h3 style={{ marginTop: 10 }}> 正文:</h3></div>\n\n          <TextArea\n            className=\"markdown_text\"\n            bordered={false}\n            autoSize\n            onChange={this.handleTxetValue}\n            value={value}\n            placeholder=\"文章正文。。。。。。\"\n          />\n        </Col>\n\n        <Col xs={24} sm={24} md={24} lg={9} xl={9} xxl={9} >\n          <div className=\"content_preview_wrap markdown-body\" >\n            {htmlStr.length > 0 ? \"\" : <div  className=\"row\"><h3>预览:</h3></div>}\n            <div className=\"content_preview \" dangerouslySetInnerHTML={{ __html: htmlStr }} >\n            </div>\n          </div>\n        </Col>\n      </Row >\n    );\n  }\n}\n\nexport default MarkdownEdit;\n","import React, { Component } from \"react\";\nimport { Input } from 'antd'\nimport { reqDocumentDetail } from '@/api'\nimport AddTags from '../add-tag'\n\nimport { Editor } from \"react-draft-wysiwyg\";\nimport { EditorState, convertToRaw, ContentState } from \"draft-js\";\nimport draftToHtml from \"draftjs-to-html\";\nimport htmlToDraft from \"html-to-draftjs\";\n\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport \"./index.less\";\nconst { TextArea } = Input;\n\nclass RichTextEidt extends Component {\n  constructor(props) {\n    super(props);\n    const { id } = props\n    let editorState;\n    editorState = EditorState.createEmpty();\n    // 初始化状态\n    this.state = {\n      editorState,\n      title: \"\",\n      htmlStr: \"\",\n      desc: '',\n      tags: []\n    };\n    if (id) {\n      this.getDocument(id)\n    }\n    this.tagsRef = React.createRef();\n  }\n  getDocument = async (id) => {\n    const res = await reqDocumentDetail(id)\n    if (res.code === 0) {\n      const { content, title, desc, tags } = res.data\n      const blocksFromHtml = htmlToDraft(content);\n      const { contentBlocks, entityMap } = blocksFromHtml;\n      const contentState = ContentState.createFromBlockArray(\n        contentBlocks,\n        entityMap\n      );\n      const editorState = EditorState.createWithContent(contentState);\n\n      this.setState({\n        title,\n        desc,\n        editorState,\n        htmlStr: content,\n        tags\n      })\n    }\n  }\n  // 清空表单数据\n  clearValue = () => {\n    const editorState = EditorState.createEmpty();\n    this.setState({\n      title: '',\n      htmlStr: '',\n      editorState,\n      desc: ''\n    })\n  }\n  // 简介文本域输入\n  handleDescValue = (e) => {\n    const desc = e.target.value;\n    this.setState({\n      desc,\n    });\n  }\n\n  // 标题表单输入事件\n  changeInputValue = (e) => {\n    const title = e.target.value;\n    this.setState({\n      title,\n    });\n  };\n\n  /*当输入改变时立即保存状态数据 */\n  onEditorStateChange = (editorState) => {\n    const htmlStr = draftToHtml(\n      convertToRaw(this.state.editorState.getCurrentContent())\n    );\n    this.setState({ editorState, htmlStr });\n  };\n  // 父组件获取值\n  getEditorValue() {\n    const { title, htmlStr, desc } = this.state\n    const tags = this.tagsRef.current.getTags()\n    return {\n      title,\n      htmlStr,\n      desc,\n      tags\n    };\n  }\n  render() {\n    const { editorState, title, desc, tags } = this.state;\n    return (\n      <div className=\"rich_text_edit\">\n        <div className=\"doc_title\">\n          <input\n            value={title}\n            onInput={this.changeInputValue}\n            type=\"text\"\n            placeholder=\"我的文章标题\"\n          />\n        </div>\n        <div className=\"doc_content\">\n          <div className=\"row\">\n            <h3>简介:</h3>\n            <TextArea\n              bordered={false}\n              onChange={this.handleDescValue}\n              value={desc}\n              maxLength=\"500\"\n              placeholder=\"文章简介\"\n              showCount\n              rows=\"4\"\n              style={{ width: \"100%\", resize: \"none\" }}\n            />\n          </div>\n          <div className=\"row\">\n            <h3>添加标签：</h3>\n            <AddTags tags={tags} ref={this.tagsRef} />\n          </div>\n          <div className=\"row\">\n            <h3>正文:</h3>\n          </div>\n          <Editor\n            style={{ width: \"100%\" }}\n            editorState={editorState}\n            onEditorStateChange={this.onEditorStateChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default RichTextEidt;\n","// 解析dom\nexport default function parseDomFn(doc, type = \"md\") {\n  var result = []\n  var menuList = []\n  function parseDom(node) {\n    if (!node) return\n    let atr = ''\n    // 解析attr 属性\n    if (node.attributes.length > 0) {\n      for (let i = 0; i < node.attributes.length; i++) {\n        const item = node.attributes[i]\n        if (item.localName !== 'id') {\n          atr += ` ${item.localName}='${item.nodeValue}'`\n        }\n      }\n    }\n    let htmlStr = '';\n    if (/^h[\\d*]$/.test(node.localName)) {\n      var id = node.innerText\n      //去重\n      for (let i = 0; i < menuList.length; i++) {\n        const item = menuList[i]\n        if (item.id === id) {\n          id = id + \"1\"\n        }\n\n      }\n      menuList.push({\n        title: node.innerText,\n        level: node.localName.substring(1),\n        id,\n      })\n      htmlStr = `<${node.localName} ${atr} id=\"${id}\">${node.innerHTML}</${node.localName}>`\n\n    } else {\n      htmlStr = `<${node.localName}${atr}>${node.innerHTML}</${node.localName}>`\n    }\n    return htmlStr\n\n  }\n  for (let i = 0; i < doc.all.length; i++) {\n    // 根据编辑器选择不同节点\n    const item = doc.body.children[i]\n    result.push(parseDom(item))\n\n  }\n  return {\n    content: result.join(\"\"),\n    menuList\n  }\n};\n","import React, { Component } from \"react\";\nimport { Button, Modal, message,BackTop } from \"antd\";\n// 两个编辑器\nimport MarkdownEdit from \"@/components/markdown-edit\";\nimport RichTextEidt from \"@/components/rich-text-edit\";\n// 转换工具\nimport stringToHtml from \"@/utils/stringToHtml\";\nimport parseDom from \"@/utils/parseDom\";\n// 后台请求\nimport { reqAddDocment, reqUpdateDoc } from '@/api/index'\n// 样式\nimport \"./index.less\";\n\nclass Edit extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      type: \"md\",\n      docObj: {},\n    };\n    this.EditorRef = React.createRef();\n  }\n  // 上传服务器\n  saveDoc = async () => {\n    // 收集数据\n    const doc = this.EditorRef.current.getEditorValue();\n    const { desc, title, htmlStr, tags } = doc\n    const { type } = this.state\n\n    // 没值 直接返回\n    if (!title || !htmlStr) {\n      return message.error(\"空值！\")\n    }\n    const htmlNode = stringToHtml(htmlStr);\n    const parseResult = parseDom(htmlNode, type)\n    const contentHtml = parseResult.content;\n    const menuList = parseResult.menuList;\n    const docObj = {\n      title,\n      menuList,\n      desc,\n      content: contentHtml,\n      tags\n    };\n    // 如果有id 说明是更新文档\n    if (this.id) {\n      const res = await reqUpdateDoc(this.id, docObj)\n      if (res.code === 0) {\n        message.success('修改成功!')\n        this.props.history.goBack()\n      }\n    } else {\n      // 发送后台请求\n      const res = await reqAddDocment(docObj)\n      if (res.code === 0) {\n        message.success(\"上传成功\")\n      }\n    }\n\n    // 清空表单数据\n    this.EditorRef.current.clearValue()\n  }\n  // 切换编辑模式\n  changeEditor = (type) => {\n    return () => {\n      // 提醒用户 切换会丢失当前内容\n      Modal.confirm({\n        title: \"切换编辑器会丢失当前内容，是否继续？\",\n        autoFocusButton: \"ok\",\n        okText: \"确定\",\n        cancelText: \"取消\",\n        onOk: () => {\n          this.setState({\n            type,\n          });\n        },\n      });\n    };\n  };\n  render() {\n    const { type } = this.state;\n    this.id = this.props.location.query ? this.props.location.query.id : null\n    return (\n      <div className=\"edit_container\">\n        <div className=\"edit_wrap\">\n          <div className=\"edit_tools_btn\" style={{height:type === \"text\"?\"\":50}} >\n            <div className=\"switch_eidt_btn\">\n              <Button\n                type={type === \"text\" ? \"primary\" : \"\"}\n                onClick={this.changeEditor(\"text\")}\n              >\n                文本编辑\n              </Button>\n              &nbsp; &nbsp; &nbsp;\n              <Button\n                type={type !== \"text\" ? \"primary\" : \"\"}\n                onClick={this.changeEditor(\"md\")}\n                disabled={this.id}\n              >\n                Markdown编辑\n              </Button>\n            </div>\n            <div className=\"submit_btn\">\n              <Button type=\"primary\" onClick={this.saveDoc} >{this.id ? \"更新\" : \"发布\"}</Button>\n            </div>\n          </div>\n\n          <div className=\"edit_content\" style={{paddingTop:type === \"text\"?\"\":20}} >\n            {type === \"text\" ? (\n              <RichTextEidt id={this.id} ref={this.EditorRef} />\n            ) : (\n              <MarkdownEdit ref={this.EditorRef} />\n            )}\n          </div>\n        </div>\n       \n        <BackTop />\n      </div>\n    );\n  }\n}\n\nexport default Edit;\n","export default function stringToHtml (str) {\n  var dom = new DOMParser()\n  var doc = dom.parseFromString(str, 'text/html')\n  return doc\n}","import React, { Component } from 'react';\r\nimport { Card, message, Button, Modal, Tag } from 'antd';\r\nimport { Table } from 'antd';\r\nimport {\r\n  EditOutlined,\r\n  DeleteOutlined\r\n} from '@ant-design/icons'\r\nimport AddTag from '@/components/add-tag'\r\n\r\nimport { reqAllDocument } from '@/api'\r\nimport formatDate from '@/utils/formatDate.js'\r\nimport { reqDeleteDoc, reqUpdateDoc } from '@/api'\r\n\r\n\r\nimport './index.less'\r\nclass Document extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      docs: [],\r\n      loading: false\r\n    }\r\n\r\n    this.columns = [\r\n      {\r\n        width: 200,\r\n        title: '标题',\r\n        dataIndex: 'title',\r\n        editable: true,\r\n        ellipsis: true\r\n      },\r\n      {\r\n        title: '描述',\r\n        dataIndex: 'desc',\r\n        ellipsis: true\r\n      },\r\n      {\r\n        width: 200,\r\n        title: 'tags',\r\n        dataIndex: 'tags',\r\n        render: tags => {\r\n          return <div>\r\n            {tags.map(tag => <Tag key={tag} style={{ margin: \"0 5px 5px 0\" }} color=\"blue\">{tag}</Tag>)}\r\n          </div>\r\n        }\r\n      },\r\n      {\r\n        width: 150,\r\n        title: '创建时间',\r\n        dataIndex: 'createTime',\r\n        render: createTime => {\r\n          return formatDate(createTime)\r\n        }\r\n      },\r\n      {\r\n        width: 200,\r\n        title: '操作',\r\n        render: record => {\r\n          return <div>\r\n            <Button size=\"small\" type=\"primary\" style={{ fontSize: 12 }} icon={<EditOutlined />} onClick={this.handleEdit(record.id)} >编辑</Button> &nbsp;\r\n            <Button size=\"small\" danger type=\"default\" icon={<DeleteOutlined />} style={{ fontSize: 12 }} onClick={this.handleDetele(record)} >删除</Button>\r\n          </div>\r\n        }\r\n      },\r\n    ];\r\n    // 展开行\r\n    this.expandable = {\r\n      rowExpandable: record => record.title,\r\n      expandedRowRender: record => (<div>\r\n        <AddTag tags={record.tags} inputWidth={80} ref={this.tagsRef} />\r\n        <Button size=\"small\" style={{ fontSize: 12, margin: 5 }} onClick={this.saveTags(record.id)} >保存</Button>\r\n      </div>)\r\n    }\r\n    // 创建ref \r\n    this.tagsRef = React.createRef()\r\n\r\n  }\r\n  // 编辑\r\n  handleEdit = (id) => {\r\n    return () => {\r\n      this.props.history.push({ pathname: '/admin/edit', query: { id } })\r\n    }\r\n  }\r\n  // 把编辑的tags保存到服务器\r\n  saveTags = (id) => {\r\n    return async () => {\r\n      const tags = this.tagsRef.current.getTags()\r\n      const res = await reqUpdateDoc(id, { tags })\r\n      // 如果成功后\r\n      if (res.code === 0) {\r\n        message.success(\"添加成功\")\r\n        // 直接修改本地数据 不用网络请求\r\n        const { docs } = this.state\r\n        const index = docs.findIndex(item => item.id === id)\r\n        if (index !== -1) {\r\n          docs[index].tags = tags\r\n          this.setState({\r\n            docs\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 删除\r\n  handleDetele = (doc) => {\r\n  \r\n    return () => {\r\n      console.log(doc);\r\n      Modal.confirm({\r\n        content: '确定要删除 ' + doc.title + ' 吗?',\r\n        okText: \"确定\",\r\n        cancelText: '取消',\r\n        onOk: async () => {\r\n          const res = await reqDeleteDoc(doc.id)\r\n          if (res.code === 0) {\r\n            message.success(\"删除成功!\")\r\n            this.getDouments()\r\n          } else {\r\n            message.warning(\"删除失败!\")\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n  // 获取数据\r\n  getDouments = async () => {\r\n    // open loading\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    const res = await reqAllDocument()\r\n    // close loading\r\n    this.setState({\r\n      loading: false\r\n    })\r\n    // save data\r\n    if (res.code === 0) {\r\n      this.setState({\r\n        docs: res.data\r\n      })\r\n    } else {\r\n      message.error(\"获取数据失败!请刷新重试\")\r\n    }\r\n\r\n  }\r\n  // 获取数据\r\n  componentDidMount() {\r\n    this.getDouments()\r\n  }\r\n\r\n  render() {\r\n    const { docs, loading } = this.state\r\n    return (\r\n      <Card title=\"文档列表\" extra={<Button type=\"primary\" href=\"/admin/edit\" >写文章</Button>} className=\"admin_document\" >\r\n        <Table\r\n          expandable={this.expandable}\r\n          loading={loading} bordered columns={this.columns} dataSource={docs} rowKey=\"id\" scroll={{ y: 800 }} />\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Document;","import React, { Component } from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { withRouter } from 'react-router-dom'\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n  PieChartOutlined\r\n} from '@ant-design/icons'\r\n\r\nconst { Sider } = Layout;\r\n\r\nclass AdminSider extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      collapsed: false,\r\n    }\r\n  }\r\n  static propTypes = {\r\n    resourcesCate: PropTypes.array.isRequired\r\n  }\r\n\r\n  // 菜单栏跳转\r\n  handleSderClick = (path) => {\r\n    return () => {\r\n      this.props.history.push(path)\r\n    }\r\n  }\r\n  // 侧边栏收起\r\n  onCollapse = collapsed => {\r\n    this.setState({ collapsed });\r\n  };\r\n\r\n  render() {\r\n    const { collapsed } = this.state;\r\n    const { selectedKeys, resourcesCate } = this.props\r\n    return (\r\n      <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\r\n        <Menu defaultOpenKeys={['/admin/resources']} theme=\"dark\" defaultSelectedKeys={selectedKeys} mode=\"inline\">\r\n          <Menu.Item key=\"/admin/document\"  icon={<span className=\"iconfont icon-wendang\" style={{ margin: '0 10px 0 0' }} ></span>} onClick={this.handleSderClick('/admin/document')} >\r\n            文档管理\r\n          </Menu.Item>\r\n          <Menu.SubMenu key=\"/admin/resources\" title=\"资源列表\" icon={<span className=\"iconfont icon-huaban7\" style={{ margin: '0 10px 0 0' }} ></span>} >\r\n            {resourcesCate.map(item => (\r\n              <Menu.Item key={\"/admin/resources/\" + item.name} icon={<span className=\"iconfont icon-kuangjiaguanli2\" style={{ margin: '0 10px 0 0' }} ></span>} onClick={this.handleSderClick('/admin/resources/' + item.name)} >\r\n                {item.name}\r\n              </Menu.Item>\r\n            ))}\r\n          </Menu.SubMenu>\r\n          <Menu.Item key=\"/admin/resources/cate\"  icon={<span className=\"iconfont icon-kuangjiaguanli2\" style={{ margin: '0 10px 0 0' }} ></span>} onClick={this.handleSderClick('/admin/resources/cate')} >\r\n            资源分类\r\n          </Menu.Item>\r\n        </Menu>\r\n      </Sider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(AdminSider);","import React, { Component } from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport { Layout } from 'antd';\r\nimport { reqResourcesCate } from '@/api'\r\nimport QcEventEmitter from '@/utils/QcEventEmitter'\r\nimport loadable from '@/utils/loadable'\r\n\r\n\r\n// 文档编辑\r\nimport Edit from \"./children/edit\";\r\nimport './index.less'\r\n\r\nimport { connect } from 'react-redux'\r\nimport AdminDocument from './children/document'\r\n// import ResourcesAdmin from './children/resources-admin'\r\n// import ResourcesCate from './children/resources-admin/cate'\r\nimport AdminSider from '@/components/admin-sider'\r\n\r\nconst ResourcesAdmin = loadable(() => import(\"./children/resources-admin\"))\r\nconst ResourcesCate = loadable(() => import(\"./children/resources-admin/cate\"))\r\n// const AdminSider = loadable(() => import(\"@/components/admin-sider\"))\r\n\r\n\r\n\r\nconst { Content } = Layout;\r\n\r\nclass Admin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      resourcesCate: []\r\n    }\r\n  }\r\n  //  \r\n  getResourcesCate = async () => {\r\n    const res = await reqResourcesCate()\r\n    if (res.code === 0) {\r\n      this.setState({\r\n        resourcesCate: res.data\r\n      })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.getResourcesCate()\r\n    QcEventEmitter.addListener('getResourcesCate', this.getResourcesCate)\r\n  }\r\n  componentWillUnmount() {\r\n    QcEventEmitter.removeListener(\"getResourcesCate\", this.getResourcesCate)\r\n  }\r\n  render() {\r\n    const { pathname } = this.props.location\r\n    if (pathname === '/admin') {\r\n      return <Redirect to=\"/admin/document\" />\r\n    }\r\n    const { userid } = this.props\r\n    if (!userid) {\r\n      return <Redirect to=\"/login\" push />\r\n    }\r\n    return (\r\n      <div className=\"admin\">\r\n        <Layout className=\"admin_container\" >\r\n          {/* 如果是文章写作页面就不需要侧边栏 */}\r\n          {pathname.indexOf('edit') !== -1 ? null : <AdminSider resourcesCate={this.state.resourcesCate} selectedKeys={[pathname]} />}\r\n          <Layout className=\"site-layout\">\r\n            <Content >\r\n              <Switch>\r\n                <Route path=\"/admin/edit\" component={Edit}></Route>\r\n                <Route path={'/admin/document'} component={AdminDocument} ></Route>\r\n                <Route path={'/admin/resources/cate'} render={props => <ResourcesCate {...props} resourcesCate={this.state.resourcesCate} />} exact  ></Route>\r\n\r\n                <Route path={'/admin/resources/:name'} render={props => <ResourcesAdmin {...props} resourcesCate={this.state.resourcesCate} />}></Route>\r\n              </Switch>\r\n            </Content>\r\n          </Layout>\r\n        </Layout>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({ userid: state }),\r\n)(Admin)","import React, { Component } from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport loadable from '@/utils/loadable'\n\nimport { connect } from 'react-redux'\nimport { receiveUser } from '@/redux/actions'\n// 头部内容\nimport HeaderNav from \"../../components/header\";\n// 主页内容\nimport Home from \"../home\";\n// 文档详情\nimport DocDetail from '../doc-detail'\n// 后台管理\nimport Admin from '../admin'\n// const Admin = loadable(() => import(\"../admin\"))\n\n// tag 标签结果页\nconst Tags = loadable(() => import(\"../tags\"))\n// import Tags from '../tags'\n\n// 登录\nconst Login = loadable(() => import(\"../login\"))\n// import Login from '../login/index'\n\n// 资源\n// import Resources from '../resources'\nconst Resources = loadable(() => import(\"../resources\"))\n\nclass Layout extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n\n  render() {\n    // 把登录信息添加到 redux 中\n    const { userid, receiveUser } = this.props\n    if (!userid) {\n      const userid = localStorage.getItem(\"userid\")\n      receiveUser(userid)\n    }\n\n    return (\n      <div className=\"layout\">\n        {/* 头部 */}\n        <HeaderNav />\n        {/* 内容区 */}\n        <Switch>\n          <Route path=\"/login\" component={Login}></Route>\n          <Route path=\"/admin\" component={Admin}></Route>\n          <Route path=\"/doc-detail/:id\" component={DocDetail} ></Route>\n          <Redirect path=\"doc-detail/:id\" to='/doc-detail/:id' ></Redirect>\n          <Route path=\"/tags/:keyword\" component={Tags}></Route>\n          <Route path=\"/resources\" component={Resources}></Route>\n          <Route path=\"/\" component={Home}></Route>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default connect(state => ({ userid: state }), { receiveUser })(Layout);\n","import React, { Component } from 'react';\nimport { BrowserRouter } from 'react-router-dom'\n// 清除默认样式\nimport './assets/css/minireset.css'\n// markdown 样式\nimport 'github-markdown-css'\n// iconfont 样式\nimport './assets/css/iconfont.css'\nimport Layout from './pages/layout'\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {}\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <Provider store={store}>\n          <Layout />\n        </Provider>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// reportWebVitals();\n","import {EventEmitter } from 'events'\r\n\r\nclass QcEventEmitter extends EventEmitter{}\r\n\r\nexport default new QcEventEmitter()"],"sourceRoot":""}